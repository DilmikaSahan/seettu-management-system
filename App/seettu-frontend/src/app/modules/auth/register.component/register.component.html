<div class="register-container">
  <h2>Register</h2>
  <form (ngSubmit)="register()" #registerForm="ngForm">

    <!-- Full Name -->
    <mat-form-field appearance="fill">
      <mat-label>Full Name</mat-label>
      <input matInput type="text" [(ngModel)]="registerData.name" name="name" required>
    </mat-form-field>

    <!-- Email -->
    <mat-form-field appearance="fill">
      <mat-label>Email</mat-label>
      <input matInput type="email" [(ngModel)]="registerData.email" name="email" required>
    </mat-form-field>

    <!-- Phone Number -->
    <mat-form-field appearance="fill">
      <mat-label>Phone Number</mat-label>
      <input matInput type="tel" [(ngModel)]="registerData.phoneNumber" name="phoneNumber" required placeholder="+94xxxxxxxxx">
    </mat-form-field>

    <!-- Password -->
    <mat-form-field appearance="fill">
      <mat-label>Password</mat-label>
      <input matInput type="password" [(ngModel)]="registerData.password" name="password" required>
    </mat-form-field>

    <!-- Confirm Password -->
    <mat-form-field appearance="fill">
      <mat-label>Confirm Password</mat-label>
      <input matInput type="password" [(ngModel)]="confirmPassword" name="confirmPassword" required>
    </mat-form-field>

    <!-- Role Selection -->
    <label style="margin-top: 10px; font-weight: 500;">Select Role:</label>
    <mat-radio-group [(ngModel)]="registerData.role" name="role" style="display: block; margin-top: 10px;">
      <mat-radio-button value="PROVIDER">Seettu Provider</mat-radio-button>
      <mat-radio-button value="SUBSCRIBER" style="margin-left: 20px;">Seettu Subscriber</mat-radio-button>
    </mat-radio-group>

    <!-- Role Description -->
    <div class="role-description" style="margin-top: 10px; padding: 10px; background-color: #f5f5f5; border-radius: 4px;">
      <small>
        <strong>Seettu Provider:</strong> Create and manage savings groups, add subscribers, track contributions.<br>
        <strong>Seettu Subscriber:</strong> Join savings groups, make contributions, track your savings progress.
      </small>
    </div>

    <!-- Error Message -->
    <div *ngIf="errorMessage" class="error-message" style="color: red; margin-top: 10px;">
      {{ errorMessage }}
    </div>

    <button 
      mat-raised-button 
      color="primary" 
      type="submit"
      [disabled]="registerForm.invalid || isSubmitting"
      style="margin-top: 20px;"
    >
      {{ isSubmitting ? 'Registering...' : 'Register' }}
    </button>
  </form>

  <div class="login-link" style="margin-top: 20px; text-align: center;">
    <p>Already have an account? <a routerLink="/login">Login here</a></p>
  </div>
</div>
